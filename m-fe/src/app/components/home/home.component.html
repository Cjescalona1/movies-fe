<div class="top-container" 
style="background-image: 
url(http://image.tmdb.org/t/p/w500/{{principal.backdrop_path}});
background-color: #ccc;
background-repeat: no-repeat;
background-size: cover; 
background-position: center; 
">




  <div class="search-bar"> 
    <input 
    #val
    (keyup)="search(val.value)"
    class="input-search" 
    type="text" placeholder="Buscar">
    <i class="fa fa-search"></i>
  </div>




  
  <div class="most-pop" *ngIf="!searchActive">
    <h1 style="font-weight: bold;">{{principal.original_title}}</h1>  
      <h2 style="color :#f7915c">Más Popular</h2>
      <div style="display: inline-flex;"> 
        <div *ngIf="principal.vote_average/2 >= 4.5"> <img src="/assets/st.png" alt="">  </div>
        <div *ngIf="principal.vote_average/2 >= 3.5"> <img src="/assets/st.png" alt="">  </div>
        <div *ngIf="principal.vote_average/2 >= 2.5"> <img src="/assets/st.png" alt="">  </div>
        <div *ngIf="principal.vote_average/2 >= 1.5"> <img src="/assets/st.png" alt="">  </div>
        <div *ngIf="principal.vote_average/2 >= 0.5"> <img src="/assets/st.png" alt="">  </div>
      </div> 
      <h1 (click)="goFav()" style="color:lightgray ; font-weight: bold;">Mis Favoritas</h1>  
  </div>
</div>


<div *ngIf="searchActive">
 <h3 style="color :#f7915c ;text-align: center;" class="carousel-title">
      Resultado de busqueda 
 </h3>
<div *ngIf="loadingSR" style=" margin-left: 25%">
 <img  src="assets/spinner.gif" alt="Loading..." style="width: 70%"> 
</div>

 <div  *ngIf="!loadingSR" style="display: flex; flex-wrap: wrap;">
  <div class="card-movie"  *ngFor="let sr of searchResult; let i = index">
    <div 
    (click)="select(sr,'m')" 
    style="background-image: 
    url(http://image.tmdb.org/t/p/w500/{{sr.poster_path}});
    background-color: #282828;
    background-repeat: no-repeat;
    background-size: cover; 
    height: 55%;
    border-radius: 25px 25px 0 0;
    ">
   </div>
   <div style="margin: 5% ">
    <h2>
    {{sr.title}}
    </h2>  
    <h2>
      {{sr.release_date}}
    </h2>
    </div>
  </div> 
</div>  

</div>


<div *ngIf="!searchActive">
  
<div  *ngIf="loadingM" class="row text-center animated fadeIn">
  <div class="col"> 
    <i class="fa fa-sync fa-spin fa-5x"></i>
  </div>
</div>

<div *ngIf="!loadingM" > 
    <div class="carousel-div-md" >
      <h3 style="color :#f7915c" class="carousel-title">
      Peliculas populares 
      </h3> 
      <carousel   cellsToShow="4" style="height: 110px;">
        <div class="carousel-cell" *ngFor="let item of trendMovies; let i = index">
            <img (click)="select(item, 'm')"  src="http://image.tmdb.org/t/p/w500/{{trendMovies[i].poster_path}}">
        </div>
      </carousel>    
    </div>

    <div class="carousel-div-lg" >
      <h3  style="color :#f7915c" class="carousel-title">
      Peliculas populares 
      </h3> 
      <carousel cellsToShow="8" style="height: 180px;">
        <div class="carousel-cell" *ngFor="let item of trendMovies; let i = index">
            <img (click)="select(item,'m')" src="http://image.tmdb.org/t/p/w500/{{trendMovies[i].poster_path}}">
        </div>
      </carousel>    
    </div>
</div>


<div  *ngIf="loadingS" class="row text-center animated fadeIn">
  <div class="col"> 
    <i class="fa fa-sync fa-spin fa-5x"></i>
  </div>
</div>
 
<div  *ngIf="!loadingS" >
  
<div class="carousel-div-md" >
  <h3 style="color :#f7915c" class="carousel-title">
  Series populares 
  </h3> 
  <carousel  cellsToShow="4" style="height: 110px;">
    <div class="carousel-cell" *ngFor="let item of trendSeries; let i = index">
        <img (click)="select(item,'s')" src="http://image.tmdb.org/t/p/w500/{{trendSeries[i].poster_path}}">
    </div>
  </carousel>    
</div>

<div class="carousel-div-lg" >
  <h3  style="color :#f7915c" class="carousel-title">
  Series populares 
  </h3> 
  <carousel  cellsToShow="8" style="height: 180px;">
    <div class="carousel-cell" *ngFor="let item of trendSeries; let i = index">
        <img (click)="select(item,'s')" src="http://image.tmdb.org/t/p/w500/{{trendSeries[i].poster_path}}">
    </div>
  </carousel>    
</div>
</div>

<div  *ngIf="!loadingT">
  <div class="clamed">
    <h3  style="color :#f7915c" class="clamed-title">
      Peliculas más aclamadas
    </h3>
    
 <div *ngFor="let item of topMovies; let i = index" style="display: inline" >
          <img (click)="select(item, 'm')" style="width: 20%; padding: 0  2%" src="http://image.tmdb.org/t/p/w500/{{topMovies[i].poster_path}}">
  </div>
</div> 
</div>
